<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="author" content="ATopSoft" />
<meta name="copyright" content="Copyright &copy; 2004-2007, ATopSoft, All Rights Reserved." />
<meta name="rating" content="Safe For Kids" />
<meta name="keywords" lang="en" content="meta key" />
<meta name="description" content="meta desc" />

<title>Win32 CodeHook -- Frequently Asked Questions (FAQ)</title>
<style type="text/css">@import url('page.css');</style>
<link rel="stylesheet" type="text/css" href="page.css" />
</head>


<body>
<div class="header">
</div>
<div class="container">
	<div class="mainbox">
		 <div class="nav"><ul>
<li><a href="index.html">Introduction</a></li>
<li><a href="start.html">Get start</a></li>
<li><a href="api-icodehook.html">Interface - ICodeHook</a></li>
<li><a href="api-icodehookhelper.html">Interface - ICodeHookHelper</a></li>
<li><a href="api-idirectcodehook.html">Interface - IDirectCodeHook</a></li>
<li><a href="api-ierrorcodehook.html">Interface - IErrorCodeHook</a></li>
<li><a href="compare-raw-advanced-mode.html">Comparison of raw mode and advanced mode</a></li>
<li><a href="tutorial.html">Tutorials</a></li>
<li><a href="faq.html">FAQ</a></li>
<li><a href="support.html">Support</a></li>
<li><a href="version.html">Credits and Versions</a></li>

</ul>

		 </div>
		 <div class="content"><a id="top"></a><b>General</b><br /> <ul><li><a href="#faq1">1, What's CodeHook?</a></li>
<li><a href="#faq2">2, How to integrate Win32 CodeHook to my project?</a></li>
<li><a href="#faq3">3, How to know if a target function has been hooked?</a></li>
</ul> <br /><b>For Borland Delphi users</b><br /> <ul><li><a href="#faq4">1, Can I static link the code to my program?</a></li>
</ul> <br /><b>For Microsoft VC users</b><br /> <ul><li><a href="#faq5">1, Can I static link the code to my program?</a></li>
<li><a href="#faq6">2, When I hook a class member function, why I always get crash?</a></li>
</ul> <br /><b>For Borland C++ users</b><br /> <ul><li><a href="#faq7">1, Can I static link the code to my program?</a></li>
</ul> <br /><b>Contact and feedback</b><br /> <ul><li><a href="#faq8">1, Where is the official CodeHook website?</a></li>
<li><a href="#faq9">2, Who is the original author of CodeHook?</a></li>
<li><a href="#faq10">3, How to contact the original author?</a></li>
</ul> <br /><b>License and redistribute</b><br /> <ul><li><a href="#faq11">1, What's the license of Win32 CodeHook?</a></li>
<li><a href="#faq12">2, I've improved the code, can I redistribute the modified code to others?</a></li>
</ul> <br /><b>For newbies</b><br /> <ul><li><a href="#faq13">1, After adding "CodeHookIntf" to the "uses" clause, why Delphi reports error that "File not found: 'CodeHookIntf.dcu'"?</a></li>
</ul> <br /><br />
<hr width="%100" /><h3>General</h3><a id="faq1"></a><b>What's CodeHook?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
CodeHook is a code library to hook APIs.<br /><br /><br />
<a id="faq2"></a><b>How to integrate Win32 CodeHook to my project?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
You can read the <a href="tutorial.html#get-root-intf">tutorial</a> for more information. <br /><br /><br /><br />
<a id="faq3"></a><b>How to know if a target function has been hooked?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
Call ICodeHook.FindHookHandleFromTarget. If the return value is INVALID_CODEHOOK_HANDLE, the target function has not been hooked.<br />
However, if you use IDirectCodeHook directly instead of ICodeHook or ICodeHookHelper, it is your responsibility to maintain the information of which target functions have been hooked.<br /><br /><br />
<hr width="%100" /><h3>For Borland Delphi users</h3><a id="faq4"></a><b>Can I static link the code to my program?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
Just put CodeHook in the "uses" section and call GetCodeHookIntf in CodeHook.pas.<br /><br /><br />
<hr width="%100" /><h3>For Microsoft VC users</h3><a id="faq5"></a><b>Can I static link the code to my program?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
No. VC only supports COFF format object files and library files. The format generated by Delphi is OMF, and I can't convert the .obj and .lib files to COFF format.<br /><br /><br />
<a id="faq6"></a><b>When I hook a class member function, why I always get crash?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
Please keep in mind, the default calling convention of VC class member function is "thiscall" (pass "this" pointer in ECX) which isn't supported by Win32 CodeHook, so if you can modify to source code to be hooked, change the calling convention to stdcall or cdecl, otherwise, you need to use the raw mode hook.<br /><br /><br />
<hr width="%100" /><h3>For Borland C++ users</h3><a id="faq7"></a><b>Can I static link the code to my program?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
Yes. You only need to link to CodeHook_bc.lib.<br />
For BCB users, I even guess you can use the .dcu files directly in your C++ code but I haven't tested it.<br /><br /><br />
<hr width="%100" /><h3>Contact and feedback</h3><a id="faq8"></a><b>Where is the official CodeHook website?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
<a href="http://www.kbasm.com/" target="_blank">http://www.kbasm.com/</a><br /><br /><br />
<a id="faq9"></a><b>Who is the original author of CodeHook?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
Wang Qi (family name: Wang), from China, Beijing.<br /><br /><br />
<a id="faq10"></a><b>How to contact the original author?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
Send mail to "kbasm.com AT gmail D.O.T com".<br />
Or go to the forum <a href="http://www.kbasm.com/forum/" target="_blank">http://www.kbasm.com/forum/</a><br />
Bug report, feature request, or any discussion on CodeHook, are welcome.<br /><br /><br />
<hr width="%100" /><h3>License and redistribute</h3><a id="faq11"></a><b>What's the license of Win32 CodeHook?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
MPL 1.1.<br />
You may obtain a copy of the License at <a href="http://www.mozilla.org/MPL/MPL-1.1.html" target="_blank">http://www.mozilla.org/MPL/MPL-1.1.html</a><br /><br /><br />
<a id="faq12"></a><b>I've improved the code, can I redistribute the modified code to others?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
Yes, according to the license. But you are highly recommended and encouraged to send the modified code to the original author. The reason is simple. The original author may decide to include the improvement in the "official" release to improve CodeHook's quality.<br /><br /><br />
<hr width="%100" /><h3>For newbies</h3><a id="faq13"></a><b>After adding "CodeHookIntf" to the "uses" clause, why Delphi reports error that "File not found: 'CodeHookIntf.dcu'"?</b>&nbsp; &nbsp; <a href="#top"><font size="-1">Top</font></a><br /><br />
You need to add the path where CodeHook source sits in to your project search path.<br />
In Delphi IDE, click menu Projects then Options, in the pop up dialog, switch to the "Directories and Conditionals" tab, then add the path of CodeHook\Source to the "Search path".<br /><br /><br />

		 </div>
	</div>
</div>
<div class="footer">Copyright &copy; 2008, Wang Qi, All Rights Reserved.
</div>
</body>
</html>
